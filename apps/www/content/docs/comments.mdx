---
title: Comments
description: Add comments to text as marks.
docs:
  - route: /docs/components/comment-leaf
    title: Comment Leaf
  - route: /docs/components/comment-toolbar-button
    title: Comment Toolbar Button
  - route: /docs/components/comments-popover
    title: Comments Popover
---

<ComponentExample src="/src/components/examples/PlaygroundDemo.tsx">
  <PlaygroundDemo id="comment" />
</ComponentExample>

### Features

The Comments plugin allows users to add comments to text as marks.

These comments can include explanations of what the author or editor did or suggests,
such as questions about unclear statements,
notes on facts or continuity errors, common mistakes, or ideas for expanding a paragraph.

To add a comment, select the text and:

- Click on the comment button to add a comment
- Alternatively, use the hotkey **`⌘+⇧+M`**

### Installation

```bash
npm install @udecode/plate-comments
```

### Usage

```tsx
import {
  createCommentsPlugin,
  MARK_COMMENT,
  PlateCommentLeaf,
} from '@udecode/plate';

const plugins = createPlugins(
  [
    // ...otherPlugins,
    createCommentsPlugin(),
  ],
  {
    components: {
      ...createPlateUI(),
      [MARK_COMMENT]: PlateCommentLeaf,
    },
  }
);
```

#### Options

```ts
interface CommentsPlugin {
  hotkey?: string;
}
```

### Source Code

- [Plugin](https://github.com/udecode/plate/blob/main/packages/comments/src/createCommentsPlugin.ts)

# API Reference

[CommentNewTextarea.tsx](..%2F..%2F..%2F..%2Fpackages%2Fcomments%2Fsrc%2Fcomponents%2FCommentNewTextarea.tsx)
[useCommentItemContent.ts](..%2F..%2F..%2F..%2Fpackages%2Fcomments%2Fsrc%2Fcomponents%2FuseCommentItemContent.ts)
[CommentResolveButton.tsx](..%2F..%2F..%2F..%2Fpackages%2Fcomments%2Fsrc%2Fcomponents%2FCommentResolveButton.tsx)
[CommentDeleteButton.tsx](..%2F..%2F..%2F..%2Fpackages%2Fcomments%2Fsrc%2Fcomponents%2FCommentDeleteButton.tsx)
[CommentEditActions.tsx](..%2F..%2F..%2F..%2Fpackages%2Fcomments%2Fsrc%2Fcomponents%2FCommentEditActions.tsx)
[useFloatingCommentsState.ts](..%2F..%2F..%2F..%2Fpackages%2Fcomments%2Fsrc%2Fcomponents%2FuseFloatingCommentsState.ts)
[useCommentValue.ts](..%2F..%2F..%2F..%2Fpackages%2Fcomments%2Fsrc%2Fcomponents%2FuseCommentValue.ts)
[CommentEditTextarea.tsx](..%2F..%2F..%2F..%2Fpackages%2Fcomments%2Fsrc%2Fcomponents%2FCommentEditTextarea.tsx)
[useCommentLeaf.ts](..%2F..%2F..%2F..%2Fpackages%2Fcomments%2Fsrc%2Fcomponents%2FuseCommentLeaf.ts)
[CommentEditButton.tsx](..%2F..%2F..%2F..%2Fpackages%2Fcomments%2Fsrc%2Fcomponents%2FCommentEditButton.tsx)
[CommentNewSubmitButton.tsx](..%2F..%2F..%2F..%2Fpackages%2Fcomments%2Fsrc%2Fcomponents%2FCommentNewSubmitButton.tsx)
[CommentEditSaveButton.tsx](..%2F..%2F..%2F..%2Fpackages%2Fcomments%2Fsrc%2Fcomponents%2FCommentEditSaveButton.tsx)
[useFloatingCommentsContentState.ts](..%2F..%2F..%2F..%2Fpackages%2Fcomments%2Fsrc%2Fcomponents%2FuseFloatingCommentsContentState.ts)
[useCommentAddButton.ts](..%2F..%2F..%2F..%2Fpackages%2Fcomments%2Fsrc%2Fcomponents%2FuseCommentAddButton.ts)
[CommentEditCancelButton.tsx](..%2F..%2F..%2F..%2Fpackages%2Fcomments%2Fsrc%2Fcomponents%2FCommentEditCancelButton.tsx)
[useCommentsShowResolvedButton.ts](..%2F..%2F..%2F..%2Fpackages%2Fcomments%2Fsrc%2Fcomponents%2FuseCommentsShowResolvedButton.ts)
[CommentsPositioner.tsx](..%2F..%2F..%2F..%2Fpackages%2Fcomments%2Fsrc%2Fcomponents%2FCommentsPositioner.tsx)
[CommentUserName.tsx](..%2F..%2F..%2F..%2Fpackages%2Fcomments%2Fsrc%2Fcomponents%2FCommentUserName.tsx)
[findCommentNode.ts](..%2F..%2F..%2F..%2Fpackages%2Fcomments%2Fsrc%2Fqueries%2FfindCommentNode.ts)
[findCommentNodeById.ts](..%2F..%2F..%2F..%2Fpackages%2Fcomments%2Fsrc%2Fqueries%2FfindCommentNodeById.ts)
[getCommentNodeEntries.ts](..%2F..%2F..%2F..%2Fpackages%2Fcomments%2Fsrc%2Fqueries%2FgetCommentNodeEntries.ts)
[getCommentNodesById.ts](..%2F..%2F..%2F..%2Fpackages%2Fcomments%2Fsrc%2Fqueries%2FgetCommentNodesById.ts)
[getCommentPosition.ts](..%2F..%2F..%2F..%2Fpackages%2Fcomments%2Fsrc%2Fqueries%2FgetCommentPosition.ts)
[CommentProvider.tsx](..%2F..%2F..%2F..%2Fpackages%2Fcomments%2Fsrc%2Fstores%2Fcomment%2FCommentProvider.tsx)
[useCommentsResolved.ts](..%2F..%2F..%2F..%2Fpackages%2Fcomments%2Fsrc%2Fstores%2Fcomments%2FuseCommentsResolved.ts)
[useAddCommentMark.ts](..%2F..%2F..%2F..%2Fpackages%2Fcomments%2Fsrc%2Fstores%2Fcomments%2FuseAddCommentMark.ts)
[useActiveCommentNode.ts](..%2F..%2F..%2F..%2Fpackages%2Fcomments%2Fsrc%2Fstores%2Fcomments%2FuseActiveCommentNode.ts)
[CommentsProvider.tsx](..%2F..%2F..%2F..%2Fpackages%2Fcomments%2Fsrc%2Fstores%2Fcomments%2FCommentsProvider.tsx)
[removeCommentMark.ts](..%2F..%2F..%2F..%2Fpackages%2Fcomments%2Fsrc%2Ftransforms%2FremoveCommentMark.ts)
[getElementAbsolutePosition.tsx](..%2F..%2F..%2F..%2Fpackages%2Fcomments%2Fsrc%2Futils%2FgetElementAbsolutePosition.tsx)
[isCommentNodeById.ts](..%2F..%2F..%2F..%2Fpackages%2Fcomments%2Fsrc%2Futils%2FisCommentNodeById.ts)
[getCommentUrl.ts](..%2F..%2F..%2F..%2Fpackages%2Fcomments%2Fsrc%2Futils%2FgetCommentUrl.ts)
[getCommentKeyId.ts](..%2F..%2F..%2F..%2Fpackages%2Fcomments%2Fsrc%2Futils%2FgetCommentKeyId.ts)
[isCommentKey.ts](..%2F..%2F..%2F..%2Fpackages%2Fcomments%2Fsrc%2Futils%2FisCommentKey.ts)
[getCommentCount.ts](..%2F..%2F..%2F..%2Fpackages%2Fcomments%2Fsrc%2Futils%2FgetCommentCount.ts)
[getCommentKeys.ts](..%2F..%2F..%2F..%2Fpackages%2Fcomments%2Fsrc%2Futils%2FgetCommentKeys.ts)
[unsetCommentNodesById.ts](..%2F..%2F..%2F..%2Fpackages%2Fcomments%2Fsrc%2Futils%2FunsetCommentNodesById.ts)
[isCommentText.ts](..%2F..%2F..%2F..%2Fpackages%2Fcomments%2Fsrc%2Futils%2FisCommentText.ts)
[getCommentKey.ts](..%2F..%2F..%2F..%2Fpackages%2Fcomments%2Fsrc%2Futils%2FgetCommentKey.ts)
[withComments.ts](..%2F..%2F..%2F..%2Fpackages%2Fcomments%2Fsrc%2FwithComments.ts)
[useHooksComments.ts](..%2F..%2F..%2F..%2Fpackages%2Fcomments%2Fsrc%2FuseHooksComments.ts)
[createCommentsPlugin.ts](..%2F..%2F..%2F..%2Fpackages%2Fcomments%2Fsrc%2FcreateCommentsPlugin.ts)

```tsx
import { TText, Value } from '@udecode/plate-common';

export interface CommentUser {
  id: string;
  name: string;
  avatarUrl?: string;
}

export interface TComment {
  id: string;

  /**
   * Slate value of the document.
   */
  value: Value;

  /**
   * @default Date.now()
   */
  createdAt: number;

  /**
   * Author id.
   */
  userId: string;

  /**
   * Parent comment id it replies to.
   */
  parentId?: string;

  /**
   * Whether the comment is resolved.
   */
  isResolved?: boolean;
}

export interface TCommentText extends TText {
  comment?: boolean;
  comments?: Record<string, boolean>;
}

export interface CommentsPlugin {
  hotkey?: string | string[];
}

export const MARK_COMMENT = 'comment';
```
